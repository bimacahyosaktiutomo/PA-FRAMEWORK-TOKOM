{% extends '../layout.html' %}
{% block title %} Dashboard {% endblock %}
{% block content %}
{% load static %}
{% load humanize %}
<section class="sm:px-16 sm:py-8 p-2">
    <div class="space-y-4">
        <div class="flex justify-between">
            <h1 class="text-xl font-semibold self-center">
                Order History
            </h1>
            <button id="orderHistorySortButton" onclick="sortOrderHistory()" class="flex border border-indigo-500 rounded-xl px-4 py-2 space-x-4 hover:bg-indigo-500 hover:text-white hover-anim">
                <p class="font-semibold">
                    Terbaru
                </p>
                <span class=""><i class="flex-none text-xs md:text-base fa-solid fa-chevron-down transition-transform"></i></span>
            </button>
        </div>
        <div class="flex flex-col justify-center space-y-1 text-xs sm:text-base">
            <div class="flex p-3 border font-bold">
                <div class="basis-1/6 text-center self-center">
                    <h1>
                        Order ID
                    </h1>
                </div>
                <div class="sm:basis-2/6 basis-3/6 text-center self-center">
                    <h1>
                        Total Price
                    </h1>
                </div>
                <div class="sm:basis-1/6 basis-3/6 text-center self-center hidden sm:block">
                    <h1>
                        Status
                    </h1>
                </div>
                <div class="basis-1/6 text-center self-center hidden sm:block">
                    <h1>
                        Phone Number
                    </h1>
                </div>
                <div class="flex justify-center flex-grow">
                    <h1>
                        Details
                    </h1>
                </div>
            </div>
            <div id="orderHistoryContainer" class="flex flex-col">
                {% for order in orders %}
                <div class="flex p-3 border my-1">
                    <div class="basis-1/6 text-center self-center">
                        <h1>
                            {{ order.order_id }}
                        </h1>
                    </div>
                    <div class="sm:basis-2/6 basis-3/6 text-center self-center">
                        <h1>
                            {{ order.total_price }}
                        </h1>
                    </div>
                    <div class="sm:basis-1/6 basis-3/6 text-center self-center hidden sm:block">
                        <h1>
                            {{ order.status }}
                        </h1>
                    </div>
                    <div class="basis-1/6 text-center self-center hidden sm:block">
                        <h1>
                            {{ order.phone_number }}
                        </h1>
                    </div>
                    <a href="{% url 'tokom:order_detail' order.order_id %}" class="flex justify-center flex-grow">
                        <button class="p-2 font-semibold text-indigo-500">
                            Details
                        </button>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endblock %}